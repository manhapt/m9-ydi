{% extends 'base.html.twig' %}

{% block body %}
    <h1>Course Participant Report</h1>
    <p>Course: {{ course.name }}</p>
    <p>Short Description: {{ course.shortDescription |raw }}</p>
    <ul>
        <li class="actions-toolbar">
            <a class="button button-primary" href="{{ app.request.headers.get('referer') }}">
                Back to Course page
            </a>
            <a class="button button-primary" href="{{ path('admin_report_course', { 'id': course.id }) }}?export=true">
                Export to CSV
            </a>
        </li>
    </ul>
    <table>
        <thead>
            <tr>
                <th>{{ knp_pagination_sortable(users, 'Username', 'c.username') }}</th>
                <th>Name</th>
                <th>Email</th>
                <th>Complete</th>
            </tr>
        </thead>
        <tbody>
        {% for user in users %}
            <tr>
                <td>{{ user.username }}</td>
                <td>{{ user.name }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.complete }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <div class="navigation text-center">
        {{ knp_pagination_render(users) }}
    </div>
{% endblock %}
